<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Maafi Shayari — Ek-By-Ek</title>
  <style>
    :root{--bg:#071029;--card:#0b1220;--accent:#ff3366;--muted:#9aa4b2}
    *{box-sizing:border-box;font-family:Inter, system-ui, sans-serif}
    body{margin:0;min-height:100vh;background:radial-gradient(circle at 10% 10%, #08102a, #040616 60%);color:#eef2ff;display:flex;align-items:center;justify-content:center;padding:24px}
    .wrap{width:100%;max-width:880px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;box-shadow:0 10px 40px rgba(2,6,23,0.6);overflow:hidden;padding:28px}
    h1{margin:0 0 10px;font-size:22px;text-align:center}
    p.lead{margin:0 0 18px;text-align:center;color:var(--muted)}
    .steps{display:flex;gap:12px;justify-content:center;margin-bottom:18px}
    .step{width:92px;height:92px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);cursor:pointer;user-select:none;transition:transform .18s, box-shadow .18s}
    .step:hover{transform:translateY(-6px);box-shadow:0 8px 30px rgba(0,0,0,0.5)}
    .step.disabled{opacity:0.4;cursor:not-allowed}
    .container-msg{min-height:180px;display:flex;align-items:center;justify-content:center;position:relative}
    .msgbox{max-width:720px;background:rgba(255,255,255,0.03);border-radius:12px;padding:22px;text-align:center;font-size:18px;line-height:1.5;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02)}
    .controls{display:flex;gap:10px;justify-content:center;margin-top:18px}
    .btn{padding:10px 16px;border-radius:999px;background:linear-gradient(90deg,var(--accent),#ff6b96);color:white;border:none;cursor:pointer;font-weight:600}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent)}
    .footer{margin-top:12px;text-align:center;color:var(--muted);font-size:13px}
    .hearts{position:absolute;inset:auto;pointer-events:none}
    @media(max-width:640px){.steps{gap:8px}.step{width:72px;height:72px}}
    /* confetti pieces */
    .confetti-piece{position:fixed;width:10px;height:14px;opacity:0;transform:translateY(-20px) rotate(0);will-change:transform,opacity}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Ek-click — Ek-shayari</h1>
      <p class="lead">Ek-2-3 clicks mein apni baat pahuncha. Har click par naye alfaaz — pyaar bhare aur sincere.</p>

      <div class="steps" aria-hidden="false">
        <div class="step" id="step1" title="Click for 1st Shayari">1</div>
        <div class="step disabled" id="step2" title="Pehle 1 dabao">2</div>
        <div class="step disabled" id="step3" title="Pehle 2 dabao">3</div>
      </div>

      <div class="container-msg">
        <div class="msgbox" id="msgbox">Click "1" to start — sabse pehle sach aur pyaar bhari shayari aayegi.</div>
        <div class="hearts" id="hearts"></div>
      </div>

      <div class="controls">
        <button class="btn" id="reset">Reset</button>
        <button class="btn ghost" id="sendSms">Send SMS (Phone par)</button>
      </div>

      <div class="footer">Tip:.main tumhaara raha
mere chanda main tumhaara sitaara raha


rishta raha bas ret ka

aye samandar main tumhaara kinaara raha
main tumhaara, main tumhaara
tumhaara raha</div>
    </div>
  </div>

  <script>
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const step3 = document.getElementById('step3');
    const msgbox = document.getElementById('msgbox');
    const hearts = document.getElementById('hearts');
    const reset = document.getElementById('reset');
    const sendSms = document.getElementById('sendSms');

    // Shayari collection
    const shayars = [
      "पहली बार नहीं, पर हर बार तुम ही मेरी पहली चाहत रही हो — माफ़ कर दो मुझे, मैं तुम्हें खोना नहीं चाहता।",
      "तेरे गुस्से के पीछे भी मुझे प्यार ही नजर आता है; चल एक बार फिर से हँस के बात कर लें — मेरी दुनिया तुम्हारे साथ ही पूरी है।",
      "अगर तेरा दिल एक बार मुस्कुरा दे तो मैं सारे वादे निभा लूँगा — बस लौट आओ, हमें फिर से घर बनाना है। ❤️"
    ];

    // utility: show message with simple fade
    function showMessage(text){
      msgbox.style.opacity = 0;
      setTimeout(()=>{ msgbox.innerHTML = text; msgbox.style.opacity = 1; }, 180);
    }

    // spawn hearts animation
    function spawnHearts(count){
      for(let i=0;i<count;i++){
        const h = document.createElement('div');
        h.textContent = '❤️';
        h.style.position = 'absolute';
        h.style.left = (20 + Math.random()*60) + '%';
        h.style.top = (40 + Math.random()*30) + '%';
        h.style.fontSize = (18+Math.random()*36)+'px';
        h.style.opacity = '0';
        hearts.appendChild(h);
        const anim = h.animate([
          {transform:'translateY(0) scale(0.6)', opacity:0},
          {transform:'translateY(-90px) scale(1)', opacity:1},
          {transform:'translateY(-170px) scale(1.2)', opacity:0}
        ],{duration:1400+Math.random()*1000, easing:'ease-out'});
        anim.onfinish = ()=> h.remove();
      }
    }

    // confetti
    function spawnConfetti(amount){
      for(let i=0;i<amount;i++){
        const el = document.createElement('div');
        el.className='confetti-piece';
        el.style.left = (Math.random()*100)+'%';
        el.style.top = '-10px';
        el.style.background = ['#ff3366','#ffb86b','#ffd166','#8ef5e5'][Math.floor(Math.random()*4)];
        document.body.appendChild(el);
        const dx = (Math.random()-0.5)*200;
        const dur = 2000+Math.random()*1200;
        el.animate([
          {transform:`translate(${dx}px,0) rotate(${Math.random()*360}deg)`, opacity:1},
          {transform:`translate(${dx}px,${window.innerHeight+100}px) rotate(${Math.random()*1080}deg)`, opacity:0}
        ],{duration:dur, easing:'cubic-bezier(.2,.8,.3,1)'});
        setTimeout(()=>el.remove(), 3000);
      }
    }

    // Chain logic
    let state = 0; // 0 none, 1 after first, 2 after second, 3 done

    step1.addEventListener('click', ()=>{
      if(state>=1) return; // already clicked
      state = 1;
      step2.classList.remove('disabled');
      showMessage(`<strong>Shayari 1</strong><br><br>${shayars[0]}`);
      spawnHearts(6);
    });

    step2.addEventListener('click', ()=>{
      if(state<1) return; // must click 1 first
      if(state>=2) return;
      state = 2;
      step3.classList.remove('disabled');
      showMessage(`<strong>Shayari 2</strong><br><br>${shayars[1]}`);
      spawnHearts(8);
    });

    step3.addEventListener('click', ()=>{
      if(state<2) return; // must click 2 first
      if(state>=3) return;
      state = 3;
      showMessage(`<strong>Final Shayari</strong><br><br>${shayars[2]}<br><br><em>— हमेशा तुम्हारा</em>`);
      spawnHearts(12);
      spawnConfetti(60);
      // tiny pulse on step3 to celebrate
      step3.animate([
        {transform:'scale(1)'}, {transform:'scale(1.08)'}, {transform:'scale(1)'}
      ],{duration:900, easing:'ease-out'});
    });

    // Reset
    reset.addEventListener('click', ()=>{
      state = 0;
      step2.classList.add('disabled');
      step3.classList.add('disabled');
      showMessage('Click "1" to start — sabse pehle sach aur pyaar bhari shayari aayegi.');
    });

    // Send SMS: open sms: link with current message
    sendSms.addEventListener('click', ()=>{
      const text = msgbox.innerText || '';
      const enc = encodeURIComponent(text);
      window.location.href = 'sms:?body='+enc; // works on mobile
    });

    // init
    showMessage('Click "1" to start — sabse pehle sach aur pyaar bhari shayari aayegi.');
  </script>
</body>
</html>
